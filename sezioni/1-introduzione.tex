\documentclass[12pt,a4paper,oneside]{book}
\usepackage[T1]{fontenc} 
\usepackage{textcomp} 	
\usepackage[utf8x]{inputenc}
\usepackage[italian]{babel}
\renewcommand{\rmdefault}{ppl}
\usepackage{mathpazo}
\usepackage[scaled=.95]{helvet}
\usepackage{eulervm}
\usepackage{microtype}
\usepackage{cancel}
\usepackage{minted}
%=============================TIPOGRAFIA====================================
\usepackage[bindingoffset=6mm]{geometry}
\usepackage{microtype}
%===========================================================================
\usepackage{amsmath}
\usepackage{siunitx}
\usepackage{float}
\usepackage{amssymb}
\usepackage{pgfplots}
\usepackage{mdframed} % Per le scatole colorate
\sisetup{output-decimal-marker = {,}}
\sisetup{
  per-mode=fraction, % Usa la modalità frazione per le unità per
  fraction-function=\tfrac % Usa \tfrac per le frazioni
}
\usepackage{amsthm}
\usepackage{array}
\usepackage{booktabs}
\newtheorem{grf}{Grandezza fisica}
\newtheorem{nsc}{Notazione scientifica}
\newtheorem{fco}{Forma corretta}
\newtheorem{sen}{Sensibilità}
\newtheorem{csf}{Cifre significative}
\newtheorem{csp}{Cifre significative in un prodotto}
\newtheorem{css}{Cifre significative in una somma}
\usepackage{graphicx}
\usepackage[font=scriptsize,labelfont=bf]{caption}
\usepackage{pgf,tikz}
\newcommand{\eserciziop}[1]{\noindent\textbf{\textit{Esercizio:}} #1}
\newcommand{\soluzione}[1]{\noindent\textcolor{blue}{\textbf{Soluzione:}} #1}
\usepackage{stmaryrd}

\usetikzlibrary{arrows,patterns}
\usepackage[most]{tcolorbox}
\newcounter{testexample} %serve per l'esempio
\usepackage{cancel}
\usepackage{hyperref}
\usepackage{sectsty} %serve per colorare section
\usepackage{multicol}
\usepackage{enumitem} %serve per "elenco"
\usepackage{xcolor} % Required for specifying colors by name
\colorlet{ocre}{red!55!black}
\usepackage[margin=10pt,font=small,labelfont={bf,color=ocre}
,labelsep=endash]{caption}

\newcommand*{\colorboxed}{}
\def\colorboxed#1#{%
  \colorboxedAux{#1}%
}
\newcommand*{\colorboxedAux}[3]{%
  % #1: optional argument for color model
  % #2: color specification
  % #3: formula
  \begingroup
    \colorlet{cb@saved}{.}%
    \color#1{#2}%
    \boxed{%
      \color{cb@saved}%
      #3%
    }%
  \endgroup
}
\usepackage{titletoc} 
% Chapter text styling
\titlecontents{chapter}[1.25cm] % Indentation
{\addvspace{12pt}\large\sffamily\bfseries} % Spacing and font options for chapters
{\color{ocre!60}\contentslabel[\Large\thecontentslabel]{1.25cm}\color{ocre}} % Chapter number
{\color{ocre}}  
{\color{ocre!60}\normalsize\;\titlerule*[.5pc]{.}\;\thecontentspage} % Page number

% Section text styling
\titlecontents{section}[1.25cm] % Indentation
{\addvspace{3pt}\sffamily\bfseries} % Spacing and font options for sections
{\contentslabel[\thecontentslabel]{1.25cm}} % Section number
{}
{\hfill\color{black}\thecontentspage} % Page number
[]

% Subsection text styling
\titlecontents{subsection}[1.25cm] % Indentation
{\addvspace{1pt}\sffamily\small} % Spacing and font options for subsections
{\contentslabel[\thecontentslabel]{1.25cm}} % Subsection number
{}
{\ \titlerule*[.5pc]{.}\;\thecontentspage} % Page number
[]


% Chapter text styling
\titlecontents{lchapter}[0em] % Indenting
{\addvspace{15pt}\large\sffamily\bfseries} % Spacing and font options for chapters
{\color{ocre}\contentslabel[\Large\thecontentslabel]{1.25cm}\color{ocre}} % Chapter number
{}  
{\color{ocre}\normalsize\sffamily\bfseries\;\titlerule*[.5pc]{.}\;\thecontentspage} % Page number

% Section text styling
\titlecontents{lsection}[0em] % Indenting
{\sffamily\small} % Spacing and font options for sections
{\contentslabel[\thecontentslabel]{1.25cm}} % Section number
{}
{}

%c Subsection text styling
\titlecontents{lsubsection}[.5em] % Indentation
{\normalfont\footnotesize\sffamily} % Font settings
{}
{}
{}

%----------------------------------------------------------------------------------------
%	PAGE HEADERS
%----------------------------------------------------------------------------------------

\usepackage{fancyhdr} % Required for header and footer configuration



\pagestyle{fancy}
\renewcommand{\chaptermark}[1]{\markboth{\sffamily\normalsize\bfseries\chaptername\ \thechapter.\ #1}{}} % Chapter text font settings
\renewcommand{\sectionmark}[1]{\markright{\sffamily\normalsize\thesection\hspace{5pt}#1}{}} % Section text font settings
%\fancyhf{} \fancyhead[LE,RO]{\sffamily\normalsize\thepage} % Font setting for the page number in the header
\fancyhead[LO]{\rightmark} % Print the nearest section name on the left side of odd pages
%\fancyhead[RE]{\leftmark} % Print the current chapter name on the right side of even pages
\renewcommand{\headrulewidth}{0.5pt} % Width of the rule under the header
\addtolength{\headheight}{2.5pt} % Increase the spacing around the header slightly
\renewcommand{\footrulewidth}{0pt} % Removes the rule in the footer
\fancypagestyle{plain}{\fancyhead{}\renewcommand{\headrulewidth}{0pt}} % Style for when a plain pagestyle is specified

% Removes the header from odd empty pages at the end of chapters
\makeatletter
\renewcommand{\cleardoublepage}{
\clearpage\ifodd\c@page\else
\hbox{}
\vspace*{\fill}
\thispagestyle{empty}
\newpage
\fi}

%----------------------------------------------------------------------------------------
%	SECTION NUMBERING IN THE MARGIN
%----------------------------------------------------------------------------------------

\makeatletter
\renewcommand{\@seccntformat}[1]{\llap{\textcolor{ocre}{\csname the#1\endcsname}\hspace{1em}}}                    

\renewcommand{\section}{\@startsection{section}{1}{\z@}
{-4ex \@plus -1ex \@minus -.4ex}
{1ex \@plus.2ex }
{\normalfont\large\sffamily\bfseries}}
\renewcommand{\subsection}{\@startsection {subsection}{2}{\z@}
{-3ex \@plus -0.1ex \@minus -.4ex}
{0.5ex \@plus.2ex }
{\normalfont\sffamily\bfseries}}
\renewcommand{\subsubsection}{\@startsection {subsubsection}{3}{\z@}
{-2ex \@plus -0.1ex \@minus -.2ex}
{.2ex \@plus.2ex }
{\normalfont\small\sffamily\bfseries}}                        
\renewcommand\paragraph{\@startsection{paragraph}{4}{\z@}
{-2ex \@plus-.2ex \@minus .2ex}
{.1ex}
{\normalfont\small\sffamily\bfseries}}


\newtheoremstyle{esercizio}
{}                % Space above
{}                % Space below
{\upshape\small}        % Theorem body font % (default is "\upshape")
{}                % Indent amount
{\bfseries}       % Theorem head font % (default is \mdseries)
{.}               % Punctuation after theorem head % default: no punctuation
{ }               % Space after theorem head
{}    
\theoremstyle{esercizio}
\newtheorem{esercizio}{}

\newsavebox{\boxa}
\savebox{\boxa}[12pt][c]{\fbox{A}}
\newcommand{\boxA}{\usebox{\boxa}}

\newsavebox{\boxb}
\savebox{\boxb}[12pt][c]{\fbox{B}}
\newcommand{\boxB}{\usebox{\boxb}}

\newsavebox{\boxc}
\savebox{\boxc}[12pt][c]{\fbox{C}}
\newcommand{\boxC}{\usebox{\boxc}}

\newsavebox{\boxd}
\savebox{\boxd}[12pt][c]{\fbox{D}}
\newcommand{\boxD}{\usebox{\boxd}}


\newenvironment{elenco}{\begin{enumerate}[label=\bfseries\alph*.]}{\end{enumerate}}

\chapterfont{\color{red!55!black}}
\sectionfont{\color{red!55!black}}
\def\exampletext{Esempio}

\NewDocumentEnvironment{testexample}{ O{} }
{
	\colorlet{colexam}{red!55!black} % Global example color
	\newtcolorbox[use counter=testexample]{testexamplebox}{%
		% Example Frame Start
		empty,% Empty previously set parameters
		title={\exampletext: #1},
		attach boxed title to top left,
		minipage boxed title,
		boxed title style={empty,size=minimal,toprule=0pt,top=4pt,left=3mm,overlay={}},
		coltitle=colexam,fonttitle=\bfseries,fontupper=\sffamily\small,
		before=\par\medskip\noindent,parbox=false,boxsep=0pt,left=3mm,right=0mm,top=2pt,breakable,pad at break=0mm,
		before upper=\csname @totalleftmargin\endcsname0pt, % Use instead of parbox=true. This ensures parskip is inherited by box.
		% Handles box when it exists on one page only
		overlay unbroken={\draw[colexam,line width=.5pt] ([xshift=-0pt]title.north west) -- ([xshift=-0pt]frame.south west); },
		% Handles multipage box: first page
		overlay first={\draw[colexam,line width=.5pt] ([xshift=-0pt]title.north west) -- ([xshift=-0pt]frame.south west); },
		% Handles multipage box: middle page
		overlay middle={\draw[colexam,line width=.5pt] ([xshift=-0pt]frame.north west) -- ([xshift=-0pt]frame.south west); },
		% Handles multipage box: last page
		overlay last={\draw[colexam,line width=.5pt] ([xshift=-0pt]frame.north west) -- ([xshift=-0pt]frame.south west); },%
	}
	\begin{testexamplebox}}
	{\end{testexamplebox}\endlist}
\title{Laboratorio di fisica}
\author{Prof. Romano}

% Definizione dei colori per i listati
\definecolor{mybackgroundcolor}{rgb}{0.95, 0.95, 0.95}
\definecolor{mykeywordcolor}{rgb}{0.9, 0.0, 0.0}

% Configurazione dell'ambiente lstlisting
\lstset{ 
    backgroundcolor=\color{mybackgroundcolor}, % Colore di sfondo
    basicstyle=\footnotesize\ttfamily, % Dimensione del font e tipo
    keywordstyle=\color{mykeywordcolor}, % Colore delle parole chiave
    commentstyle=\color{gray}, % Colore dei commenti
    stringstyle=\color{red}, % Colore delle stringhe
    frame=single, % Bordo attorno al listato
    breaklines=true, % Ritorno a capo automatico
    captionpos=b % Posizione della didascalia
}




\begin{document}
\maketitle
\tableofcontents
\chapter*{Prefazione}
In queste brevi note ho riassunto I principali concetti sulle grandezze fisiche, argomento propodeutico a tutto il corso. Lo stile usato è discorsivo, per approfondire i concetti fare riferimento al libro poichè in esso si trova una trattazione più sistematica (ma anche ridondante a mio parere). Buona lettura!
\chapter{Misura di grandezze}
